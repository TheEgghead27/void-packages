# Template file for 'imprimis'
pkgname=imprimis
version=0.20a
revision=1
archs="x86_64*"
wrksrc=${pkgname}
build_style=gnu-makefile
make_use_env="yes"
#makedepends="libprimis-devel SDL2-devel SDL2_image-devel SDL2_mixer-devel SDL2_ttf-devel glew-devel"
makedepends="SDL2-devel SDL2_image-devel SDL2_mixer-devel SDL2_ttf-devel glew-devel"
depends="SDL2 SDL2_image SDL2_mixer SDL2_ttf glew"
short_desc="Destroyable world 3D shooter"
maintainer="David Chen <dchen07@protonmail.com>"
license="Zlib"
homepage="https://github.com/project-imprimis/imprimis"
distfiles="https://eggsbps.eastus.cloudapp.azure.com/project-imprimis/${pkgname}-${version}.tar.gz https://eggsbps.eastus.cloudapp.azure.com/project-imprimis/libprimis-${version}.tar.gz"
checksum="97febd6a2fdf7240898bd29afe3e567760da84994c44c8ec27407920b47647e1 202b883a4692d41979224491401ad21a4a9635d5a86ef37bdca6dea9560f066c"

do_build() {
	: ${make_cmd:=make}

	cd /builddir/libprimis/src
	${make_cmd} ${makejobs} ${make_build_args} ${make_build_target}
	mv libprimis.so ${wrksrc}

	cd ${wrksrc}
	${make_cmd} ${makejobs} ${make_build_args} ${make_build_target}
}

